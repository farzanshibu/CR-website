<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Events | CrossRoads</title>
    <link rel="stylesheet" href="./css/event.css" />

    <!-- Main Stylesheet File -->
    <link href="css/style.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;500;900&family=Outfit:wght@900&family=Roboto+Condensed:ital,wght@0,300;0,400;0,700;1,700&family=Roboto:ital,wght@1,100&display=swap"
      rel="stylesheet"
    />

    <!-- Bootstrap CSS File -->
    <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Libraries CSS Files -->
    <link href="lib/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    <link href="lib/animate/animate.min.css" rel="stylesheet" />
    <link href="lib/venobox/venobox.css" rel="stylesheet" />
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />

    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body>
    <div class="main w-full relative flex justify-center">
      <div class="main-inner absolute pt-56">
        <!-- <h1
					class="heading text-4xl md:text-9xl tracking-wider font-outfit font-bold"
				>
					Crossroads
				</h1> -->
        <img src="./img/logo.png" alt="" />
      </div>
      <div class="main-inner absolute p-[36rem]">
        <div class="flex gap-5">
          <a
            href="#schedule"
            class="rounded-full text-white bg-[#00daff] border-solid border-2 border-[#00daff] py-2 px-10 hover:bg-white hover:text-[#00daff]"
            >Events</a
          >
          <a
            href="./index.html"
            class="rounded-full text-white bg-[#00daff] border-solid border-2 border-[#00daff] py-2 px-10 hover:bg-white hover:text-[#00daff]"
            >Home</a
          >
        </div>
      </div>
      <img
        class="main-img w-full h-full object-cover"
        src="./img/events/hero2.jpg"
        alt="Crossroads"
      />
    </div>

    <section id="schedule" class="section-with-bg">
      <div class="container wow fadeInUp">
        <div class="section-header">
          <h2>Event Schedule</h2>
        </div>

        <ul class="nav nav-tabs" role="tablist">
          <li class="nav-item">
            <a
              class="nav-link active"
              href="#day-1"
              role="tab"
              data-toggle="tab"
              >Day 1</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#day-2" role="tab" data-toggle="tab"
              >Day 2</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#day-3" role="tab" data-toggle="tab"
              >Day 3</a
            >
          </li>
        </ul>

        <div class="tab-content row justify-content-center">
          <!-- Schdule Day 1 -->
          <div
            role="tabpanel"
            class="col-lg-9 tab-pane fade show active"
            id="day-1"
          >
            <div class="events1"></div>
          </div>
          <!-- End Schdule Day 1 -->

          <!-- Schdule Day 2 -->
          <div role="tabpanel" class="col-lg-9 tab-pane fade" id="day-2">
            <div class="events2"></div>
          </div>
          <!-- End Schdule Day 2 -->

          <!-- Schdule Day 3 -->
          <div role="tabpanel" class="col-lg-9 tab-pane fade" id="day-3">
            <div class="events3"></div>
          </div>
          <!-- End Schdule Day 3 -->
        </div>
      </div>
    </section>

    <!-- <div class="events"></div> -->

    <template id="event-template">
      <div
        id="event"
        class="flex gap-20 items-center p-10 flex-col md:flex-row"
      >
        <div class="w-1/2">
          <div class="lg:pl-8 flex justify-center">
            <img src="./images/1.jpeg" class="rounded-3xl" alt="1" data-image />
          </div>
        </div>
        <div class="w-1/3">
          <p class="text-5xl font-bold text-center" data-title>.....</p>
          <h3 class="pt-10">
            Date:
            <p class="font-bold" data-eventdatetime></p>
          </h3>
          <h3 class="pt-3">
            Venue:
            <p class="font-bold" data-venue></p>
          </h3>
          <h3 class="pt-3">
            Description:
            <div class="pt-3 font-bold" data-description></div>
          </h3>
          <h3 class="pt-3">
            Register Fee: â‚¹
            <p class="font-bold" data-fee></p>
          </h3>
          <br />
          <div class="p-4 flex justify-center items-center">
            <a
              href="#"
              data-reglink
              class="rounded-full text-white bg-[#00daff] border-solid border-2 border-[#00daff] p-3 pt-3 pb-3 px-10 hover:bg-white hover:text-[#00daff] absolute"
              >Register Now</a
            >
          </div>
        </div>
      </div>
    </template>
  </body>
  <script>
    const events1 = document.querySelector(".events1");
    const events2 = document.querySelector(".events2");
    const events3 = document.querySelector(".events3");
    const cardTemplate = document.getElementById("event-template");
    const query = `
		query MyQuery {
				eventsCr {
					id
					venue
					registerLink
					registerFee
					eventName
					eventDay
					eventDescriptions {
						html
					}
					dateTimeEvent
					image {
						url
					}
				}
			}`;
    fetch(
      "https://api-ap-south-1.graphcms.com/v2/cl4ivz33z4hql01z6ew8092vt/master",
      {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          Accept: "application/json",
        },
        body: JSON.stringify({
          query,
        }),
      }
    )
      .then((res) => res.json())
      .then((posts) => {
        events1.innerHTML = "";
        events2.innerHTML = "";
        events3.innerHTML = "";
        posts.data.eventsCr.forEach((post, index) => {
          const div = cardTemplate.content.cloneNode(true);
          div.querySelector("[data-title]").textContent = post.eventName;
          div.querySelector("[data-venue]").textContent = post.venue;
          div.querySelector("[data-fee]").textContent = post.registerFee;
          div.querySelector("[data-reglink]").href = post.registerLink;
          div.querySelector("[data-eventdatetime]").textContent = new Date(
            post.dateTimeEvent
          ).toLocaleDateString("en-US", {
            year: "numeric",
            month: "2-digit",
            day: "2-digit",
            weekday: "short",
          });
          div.querySelector("[data-image]").src = post.image.url;
          div.querySelector("[data-description]").innerHTML =
            post.eventDescriptions.html;
          if (post.eventDay == "Day1") {
            events1.appendChild(div);
          } else if (post.eventDay == "Day2") {
            events2.appendChild(div);
          } else if (post.eventDay == "Day3") {
            events3.appendChild(div);
          }
        });
      });
  </script>

  <!-- JavaScript Libraries -->
  <script src="lib/jquery/jquery.min.js"></script>
  <script src="lib/jquery/jquery-migrate.min.js"></script>
  <script src="lib/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="lib/easing/easing.min.js"></script>
  <script src="lib/superfish/hoverIntent.js"></script>
  <script src="lib/superfish/superfish.min.js"></script>
  <script src="lib/wow/wow.min.js"></script>
  <script src="lib/venobox/venobox.min.js"></script>
  <script src="lib/owlcarousel/owl.carousel.min.js"></script>
  <!-- Template Main Javascript File -->
  <script src="js/main.js"></script>
</html>
